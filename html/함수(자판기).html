<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>함수(자판기)</title>

    <style>
    </style>
</head>
<body>
    <table border=3 width=500 height=500>
        <tr>
            <th colspan=4 height=40 bgcolor="eeeeee"><h1>
                <font color="red">자</font> 
                <font color="orange">판</font>
                <font color="green">기</font>
            </h1></th>
        </tr>
        <tr align=center height="130">
            <td>
                <img src="img/콜라.jpg"  width="50"><br>
                <input type="button" onclick="M(1,1200)" value="1200￦">
            </td>
            <td>
                <img src="img/사이다.jpg" width="50"><br>
                <input type="button" onclick="M(2,1100)" value="1100￦">
            </td>
            <td>
                <img src="환타.jpg" width="50" height="100"><br>
                <input type="button" onclick="M(3,1000)" value="1000￦">
            </td>
            <td width=100>
                <input type="button" value="1000원" onclick="M(0,1000)" style="WIDTH: 60pt; HEIGHT: 20pt"><br>
                <input type="button" value="500원" onclick="M(0,500)" style="WIDTH: 60pt; HEIGHT: 20pt"><br>
                <input type="button" value="100원" onclick="M(0,100)" style="WIDTH: 60pt; HEIGHT: 20pt"><br>
                <input type="text" value="투입금액" id="f1" style="WIDTH: 60pt; HEIGHT: 20pt" readonly>
            </td>
        </tr>
        <tr align=center height="130">
            <td>
                <img src="img/블랙.gif" width="65" height="90"><br>
                <input type="button" onclick="M(4,400)" value="400￦">
            </td>
            <td>
                <img src="img/블랙.gif" width="65" height="90"><br>
                <input type="button" onclick="M(5,400)" value="400￦">
            </td>
            <td>
                <img src="img/블랙.gif" width="65" height="90"><br>
                <input type="button" onclick="M(6,400)" value="400￦">
            </td>
            <td>
                    <input type="button" value="잔돈 반환" onclick="RM()">
            </td>
        </tr>
        <tr align=center>
            <td id="f2" colspan=3></td>
            <td>
                500원
                <input type="text" id="f3" style="WIDTH: 20pt; HEIGHT: 20pt" readonly/>개<br>
                100원
                <input type="text" id="f4" style="WIDTH: 20pt; HEIGHT: 20pt" readonly/>개
            </td>
        </tr>





    </table>

    <script>
        
        var TM=0;
        function M(type,inputBill){
            str="";
            if(type==0){
                TM+=inputBill;
            }else{
                if(TM>=inputBill){
                    TM-=inputBill;
                    if(type==1){
                        str+="<img src='콜라.jpg'  width='50'>"
                    }else if(type==2){
                        str+="<img src='사이다.jpg' width='50'>"
                    }else if(type==3){
                        str+="<img src='환타.jpg' width='50' height='100'>"
                    }else{
                        str+="<img src='블랙.gif'  width='65' height='90'>"
                    }
                }else{
                    alert("금액이 부족합니다.")
                }
            }
            document.getElementById("f2").innerHTML+=str;
            document.getElementById("f1").value=TM+"원";
        }

        function RM(){
            C5count=0;
            C1count=0;
            while(true){    
                if(TM>=500){
                    TM=TM-500;
                    C5count++;
                }else if(TM>=100){
                    TM=TM-100;
                    C1count++
                }else{
                    break;
                }
            }
            document.getElementById("f1").value=TM+"원";
            document.getElementById("f3").value=C5count;
            document.getElementById("f4").value=C1count;
        }




    </script>
</body>
</html>